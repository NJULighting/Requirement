## 功能需求

### 查看车辆分布状况

#### 刺激/响应序列

刺激：调度管理员请求查看车辆分布情况

响应：系统根据当前定位信息显示当前地区车辆分布状况

刺激：调度管理员请求查看其它城市/区域的车辆分布情况

响应：系统显示城市/区域列表

刺激：调度管理员选择自己想看的城市

响应：系统显示目标城市的车辆分布状况

刺激：调度管理员拖拽、拉伸当前显示的地图

响应：系统根据用户操作，移动、放大、缩小切换显示区域

#### 相关功能需求

| 需求                            | 描述                            |
| ----------------------------- | ----------------------------- |
| Dispatch.Distribution.Local   | 系统应当允许用户查看当前地区/城市的车辆分布状况      |
| Dispatch.Distribution.Show    | 系统应当能显示用户所选择区域或者当前定位区域的车辆分布状况 |
| Dispatch.Distribution.Select  | 系统应当允许用户选择城市和区域               |
| Dispatch.Distribution.Move    | 系统应当允许用户拖拽和缩放当前显示区域           |
| Dispatch.Distribution.Collect | 系统应当能实时的获取各个城市、地区的车辆位置信息      |

### 查看预期车辆需求

#### 刺激/响应序列

刺激：调度管理员请求查看预期车辆需求

响应：系统显示当前定位区域的当前时段的预期车辆需求

刺激：调度管理员选择自己想看的城市和时段

响应：系统显示目标城市目标时间的预期车辆需求

刺激：调度管理员拖拽、拉伸当前显示的地图

响应：系统根据用户操作，移动、放大、缩小切换显示区域

#### 相关功能需求

| 需求                                  | 描述                                       |
| ----------------------------------- | ---------------------------------------- |
| Dispatch.FutureDistribution.Local   | 系统应当允许用户查看当前地区/城市当前的共享单车需求状况             |
| Dispatch.FutureDistribution.Show    | 系统应当能显示用户所选择区域和时间或者当前定位区域的预期共享单车需求状况     |
| Dispatch.FutureDistribution.Select  | 系统应当允许用户选择城市和区域以及未来的时间点                  |
| Dispatch.FutureDistribution.Move    | 系统应当允许用户拖拽和缩放当前显示区域                      |
| Dispatch.FutureDistribution.Predict | 系统应当能够根据历史车辆出行信息，预测出未来15天内某城市/区域/街区在某一时间段的车辆需求状况 |

### 查看调度任务

#### 刺激/响应序列

刺激：调度管理员请求查看调度任务

响应：系统显示当前城市未来24小时内的调度任务列表

刺激：调度管理员选择自己想看的城市和时段

响应：系统显示调度管理员选定的城市和时间段安排的调度任务列表

刺激：调度管理员请求查看某个具体的调度任务

响应：系统显示调度管理员选定的调度任务的详细信息，包括出发地，目标地，运送车辆数量，任务时间，执行人员等信息。

#### 相关功能需求

| 需求                          | 描述                                       |
| --------------------------- | ---------------------------------------- |
| Dispatch.ViewTask.Local     | 系统应当允许用户查看当前地区/城市未来24小时内的车辆调度任务列表        |
| Dispatch.ViewTask.Select    | 系统应当允许用户选择城市/区域和想要查看的时间段                 |
| Dispatch.ViewTask.Show      | 系统应当能显示用户所选择区域和时间段的调度任务列表                |
| Dispatch.ViewTask.SelectSub | 系统应当允许用户选择某个具体的调度任务                      |
| Dispatch.ViewTask.ShowSub   | 系统应当允许用户查看某个调度任务的详细信息，包括出发地，目标地，运送车辆数量，任务时间，执行人员等信息 |

### 管理调度任务

#### 刺激/响应序列

刺激：调度管理员请求添加调度任务

响应：系统显示调度任务详单，等待调度管理员填写，详单包括出发地，目标地，运送车辆数量，任务时间，执行人员等信息

刺激：调度管理员填写详单的各项内容，并提交详单

响应：系统存储详单内容，并提示调度管理员调度任务添加成功。

刺激：调度管理员请求删除调度任务

响应：系统提示“是否删除该任务”，要求用户确认

刺激：用户确认删除调度任务

响应：系统删除调度任务，并提示调度管理员调度任务删除成功。

刺激：用户请求修改调度任务

响应：系统显示调度任务详单，等待调度管理员修改，详单包括出发地，目标地，运送车辆数量，任务时间，执行人员等信息

刺激：用户修改详单中不满意的项，并提交详单

响应：系统存储详单内容，并提示调度管理员调度任务修改成功。

#### 相关功能需求

| 需求                                 | 描述                                       |
| ---------------------------------- | ---------------------------------------- |
| Dispatch.ManageTask.Add            | 系统应当允许调度管理员添加调度任务                        |
| Dispatch.ManageTask.Add.FILLIN     | 系统应当允许调度管理员填写新任务的各项信息，包括出发地，目标地，运送车辆数量，任务时间，执行人员等信息 |
| Dispatch.ManageTask.Store          | 系统应当存储调度管理员变更后的调度管理任务                    |
| Dispatch.ManageTask.Delete         | 系统应当允许调度管理员删除调度任务                        |
| Dispatch.ManageTask.Delete.Confirm | 系统应当允许调度管理员对删除调度任务进行确认                   |
| Dispatch.ManageTask.Modify         | 系统应当允许调度管理员修改调度任务                        |
| Dispatch.ManageTask.Modify.FILLIN  | 系统应当允许调度管理员修改其不满意的调度任务的各项属性              |
| Dispatch.ManageTask.Show           | 系统应当在用户对任务进行变更后显示任务变更是否成功                |

## 约束

- IC1：服务器端系统要采用Java语言开发，Android端要采用Kotlin语言开发，iOS端要使用Swift语言开发。内部客户端（调度管理系统等内部系统）应当使用C#开发。
- IC2：系统的开发时常应该不超过100天
- IC3：系统要完全的兼容旧系统，包括用户数据在内
- IC4：系统开发预算不超过500万人民币